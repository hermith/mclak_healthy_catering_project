<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:body>
        <ui:composition template="resources/template/template_master.xhtml">
            <ui:define name="subscript">
                <h:outputScript library="js" name="/register_jq.js" />
                <h:outputScript library="js" name="/register_validation.js" />
            </ui:define>

            <ui:define name="subsite_header">
                <h1>Register new user</h1>
            </ui:define>

            <ui:define name="subsite_content">

                <div id="register_tab_left"><h3>Private customer</h3></div>
                <div id="register_tab_right"><h3>Corporate customer</h3></div>

                <br/><br/>

                <h:form id="registerprivate">
                    <div class="fieldset">
                        <fieldset>
                            <legend>Register private user</legend>
                            <div class="half_box_left">
                                <h:inputText class="inputfields" value="#{shoppingBean.firstName}" required="true" requiredMessage="#{texts.user_reg_firstname_error}"/>
                                <label>#{texts.edit_account_firstname}</label>
                                <br/><br/>

                                <h:inputText class="inputfields" value="#{shoppingBean.lastName}" required="true" requiredMessage="#{texts.user_reg_lastname_error}"/>
                                <label>#{texts.edit_account_lastname}</label>
                                <br/><br/>

                                <h:inputText class="inputfields" value="#{userBean.username}" required="true" requiredMessage="#{texts.user_reg_username_error}"/>
                                <label>#{texts.edit_users_username}</label>
                                <br/><br/>

                                <h:inputSecret id="pass1" onkeyup="checkPassPrivate();" class="inputfields" value="#{userBean.password}"/>
                                <label>#{texts.user_password}</label>
                                <br/><br/>

                                <h:inputSecret id="pass2" onkeyup="checkPassPrivate();" class="inputfields"/>
                                <label>#{texts.user_repeatpass}</label><br/>
                            </div>
                            <div class="half_box_right">

                                <h:inputText  class="inputfields" value="#{userBean.email}" required="true" requiredMessage="#{texts.user_reg_email_error}">
                                    <f:validator validatorId="EmailValidator"/>
                                </h:inputText>
                                <label>#{texts.edit_account_email}</label>
                                <br/><br/>

                                <h:inputText class="inputfields" value="#{shoppingBean.privateAddress}" required="true" requiredMessage="#{texts.user_reg_address_error}"/>
                                <label>#{texts.edit_account_address}</label>
                                <br/><br/>

                                <h:inputText class="inputfields" value="#{shoppingBean.privateZipCode}" required="true" requiredMessage="#{texts.user_reg_zip_error}">
                                    <f:validator validatorId="ZipCodeValidator"/>
                                </h:inputText>
                                <label>#{texts.edit_account_zipcode}</label>
                                <br/><br/>

                                <h:inputText class="inputfields" value="#{shoppingBean.privateCity}" required="true" requiredMessage="#{texts.user_reg_city_error}"/>
                                <label>#{texts.edit_account_city}</label>
                                <br/><br/>

                                <h:inputText class="inputfields" value="#{shoppingBean.privatePhoneNumber}" required="true" requiredMessage="#{texts.user_reg_phone_error}"/>
                                <label>#{texts.edit_account_phone}</label>
                                <br/><br/>

                            </div>

                            <h:commandButton action="#{userBean.registerPrivateUser()}" value="Create new private account" class="register_new_button"/>

                        </fieldset>
                    </div>

                    <br/>
                </h:form>
                <h:form id="registercorporate">
                    <div class="fieldset">
                        <fieldset>
                            <legend>Register corporate user</legend>
                            <div class="half_box_left">
                                <h:inputText class="inputfields" value="#{shoppingBean.companyName}" required="true" requiredMessage="#{texts.user_reg_company_error}"/>
                                <label>#{texts.edit_account_company_name}</label>
                                <br/><br/>

                                <h:inputText class="inputfields" value="#{userBean.username}" required="true" requiredMessage="#{texts.user_reg_username_error}"/>
                                <label>#{texts.edit_users_username}</label>
                                <br/><br/>

                                <h:inputSecret id="pass3" onkeyup="checkPassCorporate();" class="inputfields" value="#{userBean.password}"/>
                                <label>#{texts.edit_users_password}</label>
                                <br/><br/>

                                <h:inputSecret id="pass4" onkeyup="checkPassCorporate();" class="inputfields"/>
                                <label>#{texts.user_repeatpass}</label><br/>
                                <br/><br/>
                            </div>

                            <div class="half_box_right">
                                <h:inputText class="inputfields" value="#{userBean.email}" required="true" requiredMessage="#{texts.user_reg_email_error}"/>
                                <label>#{texts.edit_account_email}</label>
                                <br/><br/>

                                <h:inputText class="inputfields" value="#{shoppingBean.corporateAddress}" required="true" requiredMessage="#{texts.user_reg_address_error}"/>
                                <label>#{texts.edit_account_address}</label>
                                <br/><br/>

                                <h:inputText class="inputfields" value="#{shoppingBean.corporateZipCode}" required="true" requiredMessage="#{texts.user_reg_zip_error}">
                                    <f:validator validatorId="ZipCodeValidator"/>
                                </h:inputText>
                                <label>#{texts.edit_account_zipcode}</label>
                                <br/><br/>

                                <h:inputText class="inputfields" value="#{shoppingBean.corporateCity}" required="true" requiredMessage="#{texts.user_reg_city_error}"/>
                                <label>#{texts.edit_account_city}</label>
                                <br/><br/>

                                <h:inputText class="inputfields" value="#{shoppingBean.corporatePhoneNumber}" required="true" requiredMessage="#{texts.user_reg_phone_error}"/>
                                <label>#{texts.edit_account_phone}</label>
                                <br/><br/>
                            </div>
                            <h:commandButton action="#{userBean.registerCorporateUser()}" value="Create new corporate account" class="register_new_button" />
                        </fieldset>
                    </div>
                </h:form>
                <h:form>
                    <h:messages />
                </h:form>
            </ui:define>
        </ui:composition>
    </h:body>
</html>