<!--
template_login.xhtml

Contains:
    Contains a login form.

    For any global stuff add it ti template_master.xhtml

@author Karl
-->


<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets">

    <div id="top_bar_span_login">
        <h:form>
            <h:inputHidden value="#{userBean.loggedIn()}" id="is_user_logged_in"/>
        </h:form>
        <h:form styleClass="login_form"
                rendered="#{!userBean.loggedIn}">
            <label>#{texts.login_username}:</label><h:inputText styleClass="login_input" value="#{userBean.user.username}" /><br/>
            <label>#{texts.login_password}:</label><h:inputSecret styleClass="login_input" value="#{userBean.user.password}" /><br/>
            <h:panelGroup styleClass="login_buttons_group">
                <h:commandButton styleClass="loginbutton" value="#{texts.login_login}" action="#{userBean.login()}" />
                #{texts.login_or}
                <h:commandButton styleClass="loginbutton" value="Register new user" action="/register.xhtml" />
            </h:panelGroup>
        </h:form>

    </div>

    <div id="top_bar_span_login_always_show" >
        <h:outputText rendered="#{!userBean.loggedIn}" value="#{texts.login_click_here}." />
        <h:outputText rendered="#{userBean.loggedIn}" value="#{texts.login_logged_in_as}: #{userBean.user.username}"/>
        <h:form styleClass="logout_form">
            <h:commandButton styleClass="logoutbutton" value="#{texts.login_logout}" action="#{userBean.logout()}" rendered="#{userBean.loggedIn}"/>
        </h:form>
    </div>

    <div id="site_opaque" />
</ui:composition>